# Конфигурация VPN Bot Panel

## Файл config.ini

Все настройки системы хранятся в файле `config.ini`.

### Секция [DATABASE]

| Параметр     | Значение по умолчанию | Описание |
|--------------|----------------------|----------|
| path         | data/vpn_bot.db      | Путь к файлу базы данных |
| backup_path  | backups/             | Директория для бэкапов |

### Секция [BOT]

| Параметр          | Значение по умолчанию    | Описание |
|-------------------|--------------------------|----------|
| token             | YOUR_BOT_TOKEN_HERE      | Токен Telegram бота от @BotFather |
| admin_telegram_id | YOUR_ADMIN_TELEGRAM_ID   | ID супер администратора в Telegram |

### Секция [WEB]

| Параметр   | Значение по умолчанию | Описание |
|------------|----------------------|----------|
| secret_key | Сгенерированный ключ | Секретный ключ для сессий |
| host       | 0.0.0.0              | Хост для веб-панели |
| port       | 5000                 | Порт для веб-панели |
| debug      | False                | Режим отладки (True/False) |

### Секция [PAYMENTS]

| Параметр            | Значение по умолчанию    | Описание |
|---------------------|--------------------------|----------|
| yoomoney_shop_id    | YOUR_YOOMONEY_SHOP_ID    | ID магазина в YooMoney |
| yoomoney_secret_key | YOUR_YOOMONEY_SECRET_KEY | Секретный ключ YooMoney |
| cryptobot_token     | YOUR_CRYPTOBOT_TOKEN     | Токен CryptoBot |
| cryptobot_shop_id   | YOUR_CRYPTOBOT_SHOP_ID   | ID магазина CryptoBot |

### Секция [SECURITY]

| Параметр                  | Значение по умолчанию | Описание |
|---------------------------|----------------------|----------|
| auto_unban_interval_hours | 6                    | Интервал автоматического разбана (только для админов) |
| max_login_attempts        | 5                    | Максимальное количество попыток входа |
| session_timeout_minutes   | 60                   | Время жизни сессии |
| backup_retention_days     | 7                    | Хранить бэкапы (дней) |

### Секция [LOGGING]

| Параметр     | Значение по умолчанию | Описание |
|--------------|----------------------|----------|
| level        | INFO                 | Уровень логирования (DEBUG, INFO, WARNING, ERROR) |
| file         | logs/vpn_bot.log     | Файл для логов |
| max_size_mb  | 10                   | Максимальный размер файла лога (МБ) |
| backup_count | 5                    | Количество файлов логов для ротации |

## Настройка бота

1. Создайте бота в Telegram через @BotFather
2. Получите токен и укажите его в `config.ini`
3. Узнайте свой Telegram ID (можно через @userinfobot)
4. Укажите свой ID как `admin_telegram_id`

## Настройка платежей

### YooMoney

1. Зарегистрируйтесь на [YooMoney](https://yoomoney.ru)
2. Создайте кошелек и получите ID магазина и секретный ключ
3. Укажите их в `config.ini`

### CryptoBot

1. Создайте бота в [CryptoBot](https://t.me/CryptoBot)
2. Получите API токен и ID магазина
3. Укажите их в `config.ini`

## Настройка серверов 3x-ui

Добавьте серверы через бота командой `/addserver` или через веб-панель.

Формат данных:
- Имя сервера: произвольное название
- URL: адрес панели 3x-ui (например, https://example.com:54321)
- Логин и пароль: от панели 3x-ui
- Локация: страна или город

## Роли пользователей

Система поддерживает 4 уровня доступа:

1. **Супер администратор** - полный доступ
2. **Администратор** - управление серверами, тарифами, пользователями
3. **Модератор** - мониторинг, реклама, ограниченное управление
4. **Пользователь** - покупка тарифов, управление подключениями